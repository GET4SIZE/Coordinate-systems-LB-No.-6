# Coordinate-systems-LB-No.-6
Алгоритмічні та евристичні методи обчислення площі геометричних фігур

---

## Опис проєкту

Даний проєкт реалізує та порівнює три методи обчислення площі довільних полігонів:

1. **Еталонний метод** (власна реалізація методу Гауса як базова)
2. **Метод Гауса** (Shoelace formula) - аналітичний підхід
3. **Метод Монте-Карло** - імовірнісний підхід

Метою роботи є дослідження точності та швидкодії різних алгоритмів залежно від складності полігону та параметрів методу.

---

## Теоретична основа

### Метод Гауса (Shoelace Formula)

Аналітичний метод для точного обчислення площі простого багатокутника:

```
S = 1/2 × |Σ(x_i × y_{i+1} - x_{i+1} × y_i)|
```

**Переваги:**
- Точний результат (похибка машинної точності)
- Складність O(n), де n - кількість вершин
- Не потребує додаткових ресурсів

**Недоліки:**
- Працює тільки з простими полігонами (без самоперетинів)

### Метод Монте-Карло

Імовірнісний метод, що базується на статистичному підході:

1. Визначається bounding box полігону
2. Генеруються M випадкових точок
3. Підраховується кількість точок K всередині полігону
4. Площа обчислюється як: `S_poly ≈ S_box × (K/M)`

**Переваги:**
- Простота реалізації
- Працює з довільними фігурами
- Легко розпаралелюється

**Недоліки:**
- Наближений результат
- Потребує багато ітерацій для високої точності
- Повільний для високої точності

---

## Структура проєкту

```
lab-polygon-area/
├── src/
│   ├── main.py                  # Оригінальний скрипт (потребує Shapely)
│   ├── generators.py            # Генератор полігонів (з Shapely)
│   └── algorithms.py            # Алгоритми (з Shapely)
├── images/                      # Графіки та візуалізації
│   ├── polygon_N10.png
│   ├── polygon_N50.png
│   ├── polygon_N100.png
│   ├── error_plot.png
│   └── time_benchmark.png
├── requirements.txt
├── .gitignore
└── README.md
```

---

## Результати експериментів

### 1. Генерація тестових полігонів

Було згенеровано три тестові полігони з різною кількістю вершин:

| N вершин | Площа (еталон) | Bounding Box |
|----------|----------------|--------------|
| 10       | 5150.04        | (-35.69, -35.71) - (45.60, 45.86) |
| 50       | 5225.41        | (-47.63, -46.10) - (47.22, 45.45) |
| 100      | 5467.46        | (-47.88, -49.54) - (47.28, 46.65) |

#### Візуалізація полігонів

<table>
<tr>
<td><img width="250" alt="image" src="https://github.com/user-attachments/assets/5e6a5d89-02dd-4f30-8730-ceeb406c6ec5" /><br/><b>N=10 вершин</b></td>
<td><img width="250" alt="image" src="https://github.com/user-attachments/assets/42e6755a-7f58-4977-b8aa-70877cd6a0a0" /><br/><b>N=50 вершин</b></td>
<td><img width="250" alt="image" src="https://github.com/user-attachments/assets/26999119-95d8-47ad-a7f2-ea195c062262" /><br/><b>N=100 вершин</b></td>
</tr>
</table>

---

### 2. Порівняння точності методів

Тестування на полігоні з **N=50 вершин**:

| Метод | Площа | Абсолютна похибка | Відносна похибка |
|-------|-------|-------------------|------------------|
| Еталон | 5185.85 | - | - |
| Метод Гауса | 5185.85 | 0.0000 | **0.0000%** |
| Монте-Карло (M=100k) | 5175.53 | 10.32 | **0.20%** |

**Висновок:** Метод Гауса дає абсолютно точний результат (з точністю до машинної похибки), тоді як метод Монте-Карло навіть з 100,000 точок має похибку ~0.2%.

---

### 3. Дослідження збіжності методу Монте-Карло

Вплив кількості точок на точність обчислень (полігон N=50):

| M точок | Площа (MC) | Похибка (%) |
|---------|------------|-------------|
| 100 | 5114.59 | 1.37% |
| 1,000 | 5348.64 | 3.14% |
| 10,000 | 5145.79 | 0.77% |
| 100,000 | 5185.84 | **0.0001%** |

![Графік збіжності]
<img width="1500" height="900" alt="image" src="https://github.com/user-attachments/assets/278478e1-4c4a-45ea-a9ec-d769821e6615" />

**Ключові спостереження:**
- Похибка не монотонно спадає через випадковість методу
- При M=1000 спостерігається аномально висока похибка (3.14%)
- Для похибки <0.8% потрібно **щонайменше 10,000 точок**
- Найменьшу похибку 0.0001% ми отримуємо при **100,000 точках**

---

### 4. Benchmark продуктивності

Порівняння швидкодії методів для полігонів різної складності:

| N вершин | Еталон (с) | Гаус (с) | Монте-Карло (с) |
|----------|------------|----------|-----------------|
| 10 | 0.000005 | 0.000026 | **2.073** |
| 50 | 0.000004 | 0.000046 | **2.271** |
| 100 | 0.000009 | 0.000071 | **2.217** |
| 1,000 | 0.000006 | 0.000416 | **2.499** |

![Графік продуктивності]
<img width="1800" height="900" alt="image" src="https://github.com/user-attachments/assets/96f31633-0eb5-4eaa-88c8-ceb18fafe3a1" />

**Аналіз швидкодії:**

1. **Метод Гауса** - найшвидший:
   - Для N=10: **0.026 мс**
   - Для N=1000: **0.42 мс**
   - Лінійна складність O(n)

2. **Метод Монте-Карло** (M=100,000) - найповільніший:
   - Для N=10: **2.1 с**
   - Для N=1000: **3 с**
   - Час залежить від M, а не від N

3. **Співвідношення швидкості:**
   - Гаус швидший за Монте-Карло в **~200,000-300,000 разів**

---

## Висновки

### Порівняння методів

#### Метод Гауса - **РЕКОМЕНДОВАНИЙ**

**Переваги:**
- Абсолютна точність (похибка машинної точності ~10⁻¹⁵)
- Надзвичайно швидкий (мікросекунди навіть для складних полігонів)
- Лінійна складність O(n)
- Мінімальне споживання пам'яті

**Недоліки:**
- Працює тільки з простими полігонами (без самоперетинів)

---

#### Метод Монте-Карло - **НЕ РЕКОМЕНДОВАНИЙ для точних обчислень**

**Переваги:**
- Простота реалізації
- Універсальність (працює з будь-якими фігурами)
- Легко розпаралелюється

**Недоліки:**
- **Дуже низька точність** навіть з великою кількістю точок
- **Надзвичайно повільний** (в сотні тисяч разів повільніше за Гаус)
- Непередбачувані результати (випадковість)
- Потребує величезної кількості обчислень для прийнятної точності

---

### Відповіді на ключові питання

#### 1. Скільки ітерацій достатньо для прийнятної точності Монте-Карло?

- **Для похибки <1%**: мінімум **10,000 точок**
- **Для похибки <0.5%**: мінімум **50,000 точок**

#### 2. Який метод швидший?

**Метод Гауса швидший в ~200,000-300,000 разів!**

Конкретні цифри:
- Для полігону з 1000 вершин:
  - Гаус: **0.42 мс**
  - Монте-Карло (M=100k): **3 с**

#### 3. Який метод рекомендується використовувати?

**Метод Гауса** для всіх практичних застосувань:
- Абсолютна точність
- Блискавична швидкість
- Передбачуваний результат

Метод Монте-Карло може бути корисний тільки:
- Для освітніх цілей
- Для фігур із самоперетинами (де Гаус не працює)
- Коли точність не критична

---

## Інструкція з використання

### Встановлення залежностей

```bash
# Створення віртуального оточення
python3 -m venv .venv
source .venv/bin/activate  # Linux/Mac
# або
.venv\Scripts\activate  # Windows

# Встановлення залежностей
pip install -r requirements.txt
```

### Запуск експериментів

```bash
cd src
python3 main.py
```

### Перегляд результатів

Усі результати зберігаються у папці `images/`:
- **Графіки:** `*.png`

---

## Використані технології

- **Python 3.8+**
- **NumPy** - числові обчислення
- **Matplotlib** - візуалізація
- **Shapely** - робота з геометрією

---

## Автор

**ПІБ:** Гайдей Євген Анатолійович
**Група:** КН 4.02
